<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Update Password</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-100 flex items-center justify-center h-screen">
    <form
      id="passwordForm"
      class="bg-white p-6 rounded shadow-md w-80"
      onsubmit="validateForm(event)"
    >
      <h2 class="text-xl mb-4 font-semibold">Update Password</h2>

      <input
        type="password"
        id="newPassword"
        placeholder="New Password"
        class="border p-2 w-full mb-1 rounded"
      />
      <p id="errorNew" class="text-red-500 text-sm mb-2"></p>

      <input
        type="password"
        id="confirmPassword"
        placeholder="Confirm Password"
        class="border p-2 w-full mb-1 rounded"
      />
      <p id="errorConfirm" class="text-red-500 text-sm mb-4"></p>

      <button
        type="submit"
        class="bg-blue-500 hover:bg-blue-600 text-white p-2 w-full rounded"
      >
        Update
      </button>
    </form>
    <script>
      function validateForm(event) {
        event.preventDefault(); // prevent default form submission

        const newPassword = document.getElementById("newPassword").value;
        const confirmPassword =
          document.getElementById("confirmPassword").value;

        const errorNew = document.getElementById("errorNew");
        const errorConfirm = document.getElementById("errorConfirm");

        // Clear all errors
        errorNew.textContent = "";
        errorConfirm.textContent = "";

        if (!newPassword) {
          errorNew.textContent = "Required*";
          return;
        }

        if (!confirmPassword) {
          errorConfirm.textContent = "Required*";
          return;
        }

        if (newPassword !== confirmPassword) {
          errorConfirm.textContent = "Password must be same";
          return;
        }

        // If all good, submit
        document.getElementById("passwordForm").submit();
      }

      // Just these two lines to add blur validation
      document.getElementById("newPassword").onblur = () => {
        document.getElementById("errorNew").textContent =
          document.getElementById("newPassword").value ? "" : "Required*";
      };
    </script>
  </body>
</html>
